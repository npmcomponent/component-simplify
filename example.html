<script src="build/build.js"></script>

<style>
  canvas {
    border: 1px dotted #ddd;
  }
</style>

<canvas width=800 height=500></canvas>

<script>
  var canvas = document.querySelector('canvas');
  var Sketch = require('component-sketch');
  var simplify = require('simplify');

  var sketch = Sketch(canvas);

  canvas.addEventListener('mouseup', function(){
    var path = sketch.objs[sketch.objs.length - 1];
    console.log('before %d', path.points.length);
    path.points = simplify(path.points, 1);
    console.log('after %d', path.points.length);
    sketch.draw();
  }, false);

</script>